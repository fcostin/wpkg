<?xml version="1.0" encoding="UTF-8"?>

<!--
  NOTES
  1) refer to addons\wpkg_settings.xml for a package to copy out new local settings
-->

<packages>

<package
  id="wpkg"
  name="WPKG"
  revision="%version%-1"
  priority="0"
  reboot="false">

  <variable name="version" value="1.3.14" />

  <check type="uninstall" condition="versiongreaterorequal" path="WPKG" value="%version%" />

  <install   cmd='msiexec %MSI% /i "%SOFTWARE%\WPKG\%PROCESSOR_ARCHITECTURE%\WPKG Client %version%.msi" SETTINGSFILE="%WPKG%\settings.xml"' />
  <upgrade   cmd='msiexec %MSI% /i "%SOFTWARE%\WPKG\%PROCESSOR_ARCHITECTURE%\WPKG Client %version%.msi" SETTINGSFILE="%WPKG%\settings.xml"' />
  <downgrade cmd='msiexec %MSI% /i "%SOFTWARE%\WPKG\%PROCESSOR_ARCHITECTURE%\WPKG Client %version%.msi" SETTINGSFILE="%WPKG%\settings.xml"' />
  <remove    cmd='msiexec %MSI% /x "%SOFTWARE%\WPKG\%PROCESSOR_ARCHITECTURE%\WPKG Client %version%.msi" SETTINGSFILE="%WPKG%\settings.xml"' />

</package>

<package
  id="wpkg-settings"
  name="Update WPKG settings"
  revision="3-0"
  priority="0"
  reboot="false"
  execute="once">

  <!--
  <depends package-id="wpkg"/>
  -->

  <install cmd='"%PROGRAMFILES%\WPKG\wpkginst.exe" --SETTINGSFILE="%WPKG%\settings.xml"' />
  <upgrade cmd='"%PROGRAMFILES%\WPKG\wpkginst.exe" --SETTINGSFILE="%WPKG%\settings.xml"' />

</package>

</packages>
