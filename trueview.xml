<?xml version="1.0" encoding="UTF-8"?>

<!--
  NOTES
  1) The directx install is still broken so not much use for this as of yet
-->

<packages>

<package
  id="dwg_trueview"
  name="DWG TrueView 2011 (automatic 32/64 selection)"
  revision="1"
  reboot="false"
  priority="10">

  <depends package-id="directx" />
  <depends package-id="dotnet3" />

  <check type="uninstall" condition="exists" path="DWG TrueView 2011" />

  <!-- 32 bit -->
  <install cmd='"%COMSPEC% /c if not defined ProgramW6432 msiexec %MSI% /i "%SOFTWARE%\Autodesk\DWGTrueViewx86InstallImage\DWGVIEWR.msi"' />
  <upgrade cmd='"%COMSPEC% /c if not defined ProgramW6432 msiexec %MSI% /i "%SOFTWARE%\Autodesk\DWGTrueViewx86InstallImage\DWGVIEWR.msi"' />
  <remove  cmd='"%COMSPEC% /c if not defined ProgramW6432 msiexec %MSI% /x "%SOFTWARE%\Autodesk\DWGTrueViewx86InstallImage\DWGVIEWR.msi"' />
  <!-- 64 bit -->
  <install cmd='"%COMSPEC% /c if defined ProgramW6432 msiexec %MSI% /i "%SOFTWARE%\Autodesk\DWGTrueViewx64InstallImage\DWGVIEWR.msi"' />
  <upgrade cmd='"%COMSPEC% /c if defined ProgramW6432 msiexec %MSI% /i "%SOFTWARE%\Autodesk\DWGTrueViewx64InstallImage\DWGVIEWR.msi"' />
  <remove  cmd='"%COMSPEC% /c if defined ProgramW6432 msiexec %MSI% /x "%SOFTWARE%\Autodesk\DWGTrueViewx64InstallImage\DWGVIEWR.msi"' />

</package>

</packages>
